<!DOCTYPE html>
<html>

  
<!-- Style -->
  <style >
  .switch {
  position: relative;
  display: inline-block;
  width: 60px;
  height: 34px;
  }

  .switch input { 
  opacity: 0;
  width: 0;
  height: 0;
  }

  .slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  -webkit-transition: .4s;
  transition: .4s;
  }

  .slider:before {
  position: absolute;
  content: "";
  height: 26px;
  width: 26px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  -webkit-transition: .4s;
  transition: .4s;
  }

  input:checked + .slider {
  background-color: #2196F3;
  }

  input:focus + .slider {
  box-shadow: 0 0 1px #2196F3;
  }

  input:checked + .slider:before {
  -webkit-transform: translateX(26px);
  -ms-transform: translateX(26px);
  transform: translateX(26px);
  }

  /* Rounded sliders */
  .slider.round {
  border-radius: 34px;
  }  

  .slider.round:before {
  border-radius: 50%;
  }

  /*grid box*/
  .grid-container {
  display: grid;
  grid-template-columns: auto auto auto auto;
  grid-gap: 1px;
  background-color: #FFFFFF;
  padding: 1px;

  border: 2px solid black;
  padding: 10px;
  border-radius: 50px 20px;

  text-align: center;
  }

  </style>

<!-- Script -->
<script src="/mqttws31.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js" type="text/javascript"></script>
<script type="text/javascript" language="javascript">
  //Using the HiveMQ public Broker, with a random client Id
  var host = "10.1.75.125";
  var client = new Messaging.Client(host,Number("8023"), "test1");


 //Gets  called if the websocket/mqtt connection gets disconnected for any reason
  client.onConnectionLost = function (responseObject) {
     //Depending on your scenario you could implement a reconnect logic here
     //alert("connection lost: " + responseObject.errorMessage);
 };
 
 //Gets called whenever you receive a message for your subscriptions
 client.onMessageArrived = function (message) {
     //Do something with the push message you received
     //$('#messages').append('<span>Topic: ' + message.destinationName + '  | ' + message.payloadString + '</span><br/>');
 }; 

 //Connect Options
 var options = {
     timeout: 3,
     //Gets Called if the connection has sucessfully been established
     onSuccess: function () {
        //alert("Connected");
     },
     //Gets Called if the connection could not be established
     onFailure: function (message) {
         alert("Connection failed: " + message.errorMessage);
     }
 };

 //Creates a new Messaging.Message Object and sends it to the HiveMQ MQTT Broker
 var publish = function (payload, topic, qos) {
     //Send your message (also possible to serialize it as JSON or protobuf or just use a string, no limitations)
     var message = new Messaging.Message(payload);
     message.destinationName = topic;
     message.qos = qos;
     client.send(message);
 }
 function connect(){
  client.connect(options);
  }
  function dissconnect(){
  client.disconnect();
  }

  
</script>

<!-- Main -->
<body onload="connect();"> 


<!-- cabin 1 -->
<center><p>Cabin 1</p></center>

<div class="grid-container">

  <div><label class="switch">
   <input type="checkbox" id="1" value="OFF" onclick="toggle1(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle1(){
        if(document.getElementById("1").value=="OFF"){
          document.getElementById("1").value="ON";
          publish('1on','iqkct/sw1',1);}

        else if(document.getElementById("1").value=="ON"){
          document.getElementById("1").value="OFF";
          publish('1off','iqkct/sw1',1);}
          }
    </script>
  </label></div>

  <div><label class="switch">
   <input type="checkbox" id="2" value="OFF" onclick="toggle2(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle2(){
        if(document.getElementById("2").value=="OFF"){
          document.getElementById("2").value="ON";
         publish('2on','iqkct/sw1',1);}

        else if(document.getElementById("2").value=="ON"){
          document.getElementById("2").value="OFF";
          publish('2off','iqkct/sw1',1);}
          }
    </script>
  </label></div>

  <div><label class="switch">
   <input type="checkbox" id="3" value="OFF" onclick="toggle3(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle3(){
        if(document.getElementById("3").value=="OFF"){
          document.getElementById("3").value="ON";
          publish('3on','iqkct/sw1',1);}

        else if(document.getElementById("3").value=="ON"){
          document.getElementById("3").value="OFF";
          publish('3off','iqkct/sw1',1);}
          }
    </script>
  </label></div>

  <div><label class="switch">
   <input type="checkbox" id="4" value="OFF" onclick="toggle4(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle4(){
        if(document.getElementById("4").value=="OFF"){
          document.getElementById("4").value="ON";
          publish('4on','iqkct/sw1',1);}

        else if(document.getElementById("4").value=="ON"){
          document.getElementById("4").value="OFF";
          publish('4off','iqkct/sw1',1);}
          }
    </script>
  </label></div>

  <div><label class="switch">
   <input type="checkbox" id="5" value="OFF" onclick="toggle5(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle5(){
        if(document.getElementById("5").value=="OFF"){
          document.getElementById("5").value="ON";
          publish('5on','iqkct/sw1',1);}

        else if(document.getElementById("5").value=="ON"){
          document.getElementById("5").value="OFF";
          publish('5off','iqkct/sw1',1);}
          }
    </script>
  </label></div>

  <div><label class="switch">
   <input type="checkbox" id="6" value="OFF" onclick="toggle6(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle6(){
        if(document.getElementById("6").value=="OFF"){
          document.getElementById("6").value="ON";
          publish('6on','iqkct/sw1',1);}

        else if(document.getElementById("6").value=="ON"){
          document.getElementById("6").value="OFF";
          publish('6off','iqkct/sw1',1);}
          }
    </script>
  </label></div>

  <div><label class="switch">
   <input type="checkbox" id="7" value="OFF" onclick="toggle7(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle7(){
        if(document.getElementById("7").value=="OFF"){
          document.getElementById("7").value="ON";
          publish('7on','iqkct/sw1',1);}

        else if(document.getElementById("7").value=="ON"){
          document.getElementById("7").value="OFF";
          publish('7off','iqkct/sw1',1);}
      }
    </script>
  </label></div>

  <div><label class="switch">
   <input type="checkbox" id="8" value="OFF" onclick="toggle8(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle8(){
        if(document.getElementById("8").value=="OFF"){
          document.getElementById("8").value="ON";
          publish('allon','iqkct/sw1',1);}

        else if(document.getElementById("8").value=="ON"){
          document.getElementById("8").value="OFF";
          publish('alloff','iqkct/sw1',1);}
      }
    </script>
  </label></div>
</div>
 
<!-- cabin 2 -->

<center><p>Cabin 2</p></center>

<div class="grid-container">

  <div><label class="switch">
   <input type="checkbox" id="1" value="OFF" onclick="toggle01(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle01(){
        if(document.getElementById("1").value=="OFF"){
          document.getElementById("1").value="ON";
          publish('1on','iqkct/sw2',1);}

        else if(document.getElementById("1").value=="ON"){
          document.getElementById("1").value="OFF";
          publish('1off','iqkct/sw2',1);}
          }
    </script>
  </label></div>

  <div><label class="switch">
   <input type="checkbox" id="2" value="OFF" onclick="toggle02(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle02(){
        if(document.getElementById("2").value=="OFF"){
          document.getElementById("2").value="ON";
         publish('2on','iqkct/sw2',1);}

        else if(document.getElementById("2").value=="ON"){
          document.getElementById("2").value="OFF";
          publish('2off','iqkct/sw2',1);}
          }
    </script>
  </label></div>

  <div><label class="switch">
   <input type="checkbox" id="3" value="OFF" onclick="toggle03(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle03(){
        if(document.getElementById("3").value=="OFF"){
          document.getElementById("3").value="ON";
          publish('3on','iqkct/sw2',1);}

        else if(document.getElementById("3").value=="ON"){
          document.getElementById("3").value="OFF";
          publish('3off','iqkct/sw2',1);}
          }
    </script>
  </label></div>

  <div><label class="switch">
   <input type="checkbox" id="4" value="OFF" onclick="toggle04(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle04(){
        if(document.getElementById("4").value=="OFF"){
          document.getElementById("4").value="ON";
          publish('4on','iqkct/sw2',1);}

        else if(document.getElementById("4").value=="ON"){
          document.getElementById("4").value="OFF";
          publish('4off','iqkct/sw2',1);}
          }
    </script>
  </label></div>

  <div><label class="switch">
   <input type="checkbox" id="5" value="OFF" onclick="toggle05(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle05(){
        if(document.getElementById("5").value=="OFF"){
          document.getElementById("5").value="ON";
          publish('5on','iqkct/sw2',1);}

        else if(document.getElementById("5").value=="ON"){
          document.getElementById("5").value="OFF";
          publish('5off','iqkct/sw2',1);}
          }
    </script>
  </label></div>

  <div><label class="switch">
   <input type="checkbox" id="6" value="OFF" onclick="toggle06(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle06(){
        if(document.getElementById("6").value=="OFF"){
          document.getElementById("6").value="ON";
          publish('6on','iqkct/sw2',1);}

        else if(document.getElementById("6").value=="ON"){
          document.getElementById("6").value="OFF";
          publish('6off','iqkct/sw2',1);}
          }
    </script>
  </label></div>

  <div><label class="switch">
   <input type="checkbox" id="7" value="OFF" onclick="toggle07(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle07(){
        if(document.getElementById("7").value=="OFF"){
          document.getElementById("7").value="ON";
          publish('7on','iqkct/sw2',1);}

        else if(document.getElementById("7").value=="ON"){
          document.getElementById("7").value="OFF";
          publish('7off','iqkct/sw2',1);}
      }
    </script>
  </label></div>

  <div><label class="switch">
   <input type="checkbox" id="8" value="OFF" onclick="toggle08(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle08(){
        if(document.getElementById("8").value=="OFF"){
          document.getElementById("8").value="ON";
          publish('allon','iqkct/sw2',1);}

        else if(document.getElementById("8").value=="ON"){
          document.getElementById("8").value="OFF";
          publish('alloff','iqkct/sw2',1);}
      }
    </script>
  </label></div>
</div>

<!-- Cabin 3 -->

<center><p>Cabin 3</p></center>

<div class="grid-container">

  <div><label class="switch">
   <input type="checkbox" id="1" value="OFF" onclick="toggle001(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle001(){
        if(document.getElementById("1").value=="OFF"){
          document.getElementById("1").value="ON";
          publish('1on','iqkct/sw3',1);}

        else if(document.getElementById("1").value=="ON"){
          document.getElementById("1").value="OFF";
          publish('1off','iqkct/sw3',1);}
          }
    </script>
  </label></div>

  <div><label class="switch">
   <input type="checkbox" id="2" value="OFF" onclick="toggle002(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle002(){
        if(document.getElementById("2").value=="OFF"){
          document.getElementById("2").value="ON";
         publish('2on','iqkct/sw3',1);}

        else if(document.getElementById("2").value=="ON"){
          document.getElementById("2").value="OFF";
          publish('2off','iqkct/sw3',1);}
          }
    </script>
  </label></div>

  <div><label class="switch">
   <input type="checkbox" id="3" value="OFF" onclick="toggle003(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle003(){
        if(document.getElementById("3").value=="OFF"){
          document.getElementById("3").value="ON";
          publish('3on','iqkct/sw3',1);}

        else if(document.getElementById("3").value=="ON"){
          document.getElementById("3").value="OFF";
          publish('3off','iqkct/sw3',1);}
          }
    </script>
  </label></div>

  <div><label class="switch">
   <input type="checkbox" id="4" value="OFF" onclick="toggle004(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle004(){
        if(document.getElementById("4").value=="OFF"){
          document.getElementById("4").value="ON";
          publish('4on','iqkct/sw3',1);}

        else if(document.getElementById("4").value=="ON"){
          document.getElementById("4").value="OFF";
          publish('4off','iqkct/sw3',1);}
          }
    </script>
  </label></div>

  <div><label class="switch">
   <input type="checkbox" id="5" value="OFF" onclick="toggle005(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle005(){
        if(document.getElementById("5").value=="OFF"){
          document.getElementById("5").value="ON";
          publish('5on','iqkct/sw3',1);}

        else if(document.getElementById("5").value=="ON"){
          document.getElementById("5").value="OFF";
          publish('5off','iqkct/sw3',1);}
          }
    </script>
  </label></div>

  <div><label class="switch">
   <input type="checkbox" id="6" value="OFF" onclick="toggle006(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle006(){
        if(document.getElementById("6").value=="OFF"){
          document.getElementById("6").value="ON";
          publish('6on','iqkct/sw3',1);}

        else if(document.getElementById("6").value=="ON"){
          document.getElementById("6").value="OFF";
          publish('6off','iqkct/sw3',1);}
          }
    </script>
  </label></div>

  <div><label class="switch">
   <input type="checkbox" id="7" value="OFF" onclick="toggle007(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle007(){
        if(document.getElementById("7").value=="OFF"){
          document.getElementById("7").value="ON";
          publish('7on','iqkct/sw3',1);}

        else if(document.getElementById("7").value=="ON"){
          document.getElementById("7").value="OFF";
          publish('7off','iqkct/sw3',1);}
      }
    </script>
  </label></div>

  <div><label class="switch">
   <input type="checkbox" id="8" value="OFF" onclick="toggle008(this);"/>
    <span class="slider round"></span>
    <script>
      function toggle008(){
        if(document.getElementById("8").value=="OFF"){
          document.getElementById("8").value="ON";
          publish('allon','iqkct/sw3',1);}

        else if(document.getElementById("8").value=="ON"){
          document.getElementById("8").value="OFF";
          publish('alloff','iqkct/sw3',1);}
      }
    </script>
  </label></div>
</div>


</body>
</html>
